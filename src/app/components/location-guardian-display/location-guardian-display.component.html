@let guardianData = guardian();

<div [tp]="guardianInfo" [tpMaxWidth]="800">
  <app-icon-guardian [guardian]="guardianData"></app-icon-guardian>
</div>

<ng-template #guardianInfo let-hide>
  <h3 class="text-lg">{{ guardianData.name }}</h3>

  <h4 class="my-1 font-bold">Core Stats</h4>

  <div class="mt-3">
    <app-marker-stat stat="Health" [value]="guardianData.hp"></app-marker-stat>

    <app-marker-stat
      stat="Force"
      [value]="guardianData.stats.Force"
    ></app-marker-stat>

    <app-marker-stat
      stat="Aura"
      [value]="guardianData.stats.Aura"
    ></app-marker-stat>

    <app-marker-stat
      stat="Speed"
      [value]="guardianData.stats.Speed"
    ></app-marker-stat>
  </div>

  <div class="flex flex-row gap-4 min-w-[400px]">
    <div class="flex-1">
      <h4 class="my-3 font-bold">Elemental Affinities</h4>

      <app-marker-element
        element="Earth"
        [value]="guardianData.affinity.Earth + 1"
      ></app-marker-element>

      <app-marker-element
        element="Fire"
        [value]="guardianData.affinity.Fire + 1"
      ></app-marker-element>

      <app-marker-element
        element="Water"
        [value]="guardianData.affinity.Water + 1"
      ></app-marker-element>

      <app-marker-element
        element="Air"
        [value]="guardianData.affinity.Air + 1"
      ></app-marker-element>
    </div>

    <div class="flex-1">
      <h4 class="my-3 font-bold">Elemental Resistances</h4>

      <app-marker-element
        element="Earth"
        [value]="1 - guardianData.resistance.Earth"
      ></app-marker-element>

      <app-marker-element
        element="Fire"
        [value]="1 - guardianData.resistance.Fire"
      ></app-marker-element>

      <app-marker-element
        element="Water"
        [value]="1 - guardianData.resistance.Water"
      ></app-marker-element>

      <app-marker-element
        element="Air"
        [value]="1 - guardianData.resistance.Air"
      ></app-marker-element>
    </div>
  </div>

  <h4 class="my-3 font-bold">Innate Skills</h4>
  <div>
    <ul class="list-disc pl-5">
      @for (skill of skills(); track $index) {
        <li>{{ skill.name }}</li>
      } @empty {
        <li>None.</li>
      }
    </ul>
  </div>
</ng-template>
